<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Payment Page</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css"> <!--for icon-->
    <!-- Removed jspdf and jspdf-autotable scripts as they are no longer needed -->
    <!-- <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script> -->
    <!-- <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf-autotable/3.5.23/jspdf.plugin.autotable.min.js"></script> -->

    <style>

body {
            font-family: 'Poppins', sans-serif;
        }
        /* Your existing CSS remains unchanged */
.navbar {
    background-color: #1B4D3E !important; /* Bootstrap primary blue */
    padding-left: 30px;
    padding-right: 25px ;
    height: 58px; /* Adjust as needed */
    padding-top: 5px;
    padding-bottom: 5px;
    border-radius: 5px;
}


.navbar .nav-link,
.navbar .navbar-brand,
.navbar .nav-link.dropdown-toggle {
    color: white !important; /* Ensures text is white */
}

.navbar .nav-link:hover,
.navbar .nav-link:focus {
    color: #f8f9fa !important; /* Lighter shade on hover */
}


.breadcrumbs {
    font-size: 16px;
    padding-right: 10px;
    padding-top: 10px;
    padding-bottom: 10px;
    background-color: #eef9eb; /* Light background */
    border-radius: 5px;
    height: 25px;
}

.breadcrumbs a {
    text-decoration: none;
    color: #1B4D3E; /* Green color matching navbar */
    font-weight: bold;
    padding-left: 27px;
    margin-right: 5px;
}

.breadcrumbs a:hover {
    text-decoration: underline;
    color: #145A32; /* Darker shade on hover */
}

.breadcrumbs span {
    font-weight: bold;
    color: #555;
}


.container {
    display: flex;
    min-height: 100vh;
    background-color:white;
}

/* Sidebar Styles */
.sidebar {
    width: 250px;
    background-color:#fafafa;
    padding: 20px;
    border-right: 1px solid #e0e0e0;
}

.payment-mode {
    width: 100%;
    padding: 12px;
    margin-bottom: 10px;
    border: none;
    border-radius: 8px;
    background-color: transparent;
    text-align: left;
    cursor: pointer;
    display: flex;
    align-items: center;
    gap: 10px;
    font-size: 16px;
    color: #333;
    transition: all 0.3s ease;
}

.payment-mode i {
    width: 20px;
}

.payment-mode:hover {
    background-color: #1B4D3E;
    color: white;
}

.payment-mode.active {
    background-color: #1B4D3E;
    color: white;
}

/* Main Content Styles */
.main-content {
    flex: 1;
    padding: 20px;
}

.payment-card {
    background-color: white;
    border-radius: 12px;
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
    padding: 24px;
    max-width: 600px;
    margin: 0 auto;
}

/* Form Styles */
.payment-form {
    display: none;
}

.payment-form.active {
    display: block;
}

.payment-form h2 {
    margin-bottom: 24px;
    color: #333;
}

.form-group {
    margin-bottom: 20px;
}

.form-row {
    display: grid;
    grid-template-columns: 1fr 1fr 1fr;
    gap: 16px;
}

label {
    display: block;
    margin-bottom: 8px;
    color: #555;
    font-size: 14px;
}

input, select {
    width: 100%;
    padding: 10px;
    border: 1px solid #ddd;
    border-radius: 6px;
    font-size: 16px;
}

input:focus, select:focus {
    outline: none;
    border-color: #1B4D3E;
}

.submit-btn {
    width: 100%;
    padding: 12px;
    background-color: #1B4D3E;
    color: white;
    border: none;
    border-radius: 6px;
    font-size: 16px;
    cursor: pointer;
    transition: background-color 0.3s ease;
}

.submit-btn:hover {
    background-color: #1B4D3E;
}

/* Toast Styles */
.toast-container {
    position: fixed;
    bottom: 20px;
    right: 20px;
    z-index: 1000;
}

.toast {
    background-color: white;
    color: #333;
    padding: 12px 24px;
    border-radius: 6px;
    margin-bottom: 10px;
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.2);
    display: flex;
    align-items: center;
    animation: slideIn 0.3s ease;
}

.toast.error {
    background-color: red;
    color: white;
    border-left: 4px solid #dc3545;
}

.toast.success {
    background-color: #28a745 ;
    color: white;
    border-left: 4px solid #28a745;
}


#scrollTopBtn {
            position: fixed;
            bottom: 15px;
            right: 20px;
            border: none;
            padding: 10px 15px;
            font-size: 16px;
            cursor: pointer;
            border-radius: 5px;
            transition: 0.3s;
        }

        #scrollTopBtn:hover {
            background-color: #14563C;
            color: white;
        }
/* 
@keyframes slideIn {
    from {
        transform: translateX(100%);
        opacity: 0;
    }
    to {
        transform: translateX(0);
        opacity: 1;
    }
}

/* Responsive Design */
/* @media (max-width: 768px) {
    .container {
        flex-direction: column;
    }

    .sidebar {
        width: 100%;
        border-right: none;
        border-bottom: 1px solid #e0e0e0;
    }

    .form-row {
        grid-template-columns: 1fr;
    }
} */

    .selected-plan-info {
        padding: 15px;
        border-radius: 8px;
        background-color: #f8f9fa;
    }

    .selected-plan-info h4 {
        color: #1B4D3E;
        margin-bottom: 15px;
    }

    .selected-plan-info p {
        margin-bottom: 8px;
        color: #555;
    }

    .selected-plan-info strong {
        color: #333;
    }



    /* Main Content Row */
.content-row {
    display: flex; /* Use flexbox for better alignment */
    align-items: flex-start; /* Align columns at the top */
    gap: 4px; /* Space between columns */
    flex-wrap: wrap; /* Wrap to prevent overlap */
}

/* Column Styling */
.content-column {
    width: 46%; 
    
   
}

/* Adjust payment-card for better fit in columns */
.payment-card {
    background-color: white;
    border-radius: 12px;
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
    padding: 24px;
    width: 80%;
    margin: 50px;
}

/* Responsive Design */
@media (max-width: 768px) {
    .content-row {
        flex-direction: column; /* Stack columns on smaller screens */
    }

    .content-column {
        width: 100%; /* Full width for small screens */
    }
}
    </style> 
</head>

<body>
    <!-- Navbar -->
    <div class="navbar navbar-expand-md bg-body-tertiary fixed-top h6 ">
        <div class="container-fluid">
            <a href="Login_page.html" class="navbar-brand text-decoration-none ">
                <img src="images/prezee2.png" style="width: 50px;margin-top: 13px; margin-left: 20px;">
            </a>
        </div>
    </div>

    <div class="container-fluid" style="background-color:#ebf2f0 ">
        <nav class="breadcrumbs" style="background-color:#ebf2f0; margin-left:25px;"> 
            <a href="Login_page.html">Home</a>< 
            <a href="planspage.html"><b>Plan</b></a><
            <a href="#"><b>Payment</b></a><
        </nav>
    </div>

    <div class="container mt-5 pt-5 ps-5">
        <!-- Sidebar -->
        <div class="sidebar" style="padding-left: 40px; padding-top: 40px; padding-bottom: 25px;">
            <button class="payment-mode active" data-mode="upi">
                <i class="fas fa-qrcode"></i>
                UPI
            </button>
            <button class="payment-mode" data-mode="card">
                <i class="fas fa-credit-card"></i>
                Credit/Debit Card
            </button>
            <button class="payment-mode" data-mode="netbanking">
                <i class="fas fa-university"></i>
                Net Banking
            </button>
        </div>

        <!-- Main Content -->
        <div class="main-content">
            <div class="content-row">
                <!-- Left Column: Payment Forms -->
                <div class="content-column">
                    <div class="payment-card">
                        <!-- UPI Form -->
                        <form id="upiForm" class="payment-form active">
                            <h2>Pay using UPI</h2>
                            <div class="form-group">
                                <label for="upiId">UPI ID</label>
                                <input type="text" id="upiId" placeholder="username@bankname">
                            </div>
                            <button type="submit" class="submit-btn">Proceed to Pay</button>
                        </form>

                        <!-- Card Form -->
                        <form id="cardForm" class="payment-form">
                            <h2>Pay using Card</h2>
                            <div class="form-group">
                                <label for="cardHolder">Card Holder Name</label>
                                <input type="text" id="cardHolder" placeholder="Enter card holder name">
                            </div>
                            <div class="form-group">
                                <label for="cardNumber">Card Number</label>
                                <input type="text" id="cardNumber" maxlength="16" placeholder="1234 5678 9012 3456">
                            </div>
                            <div class="form-row">
                                <div class="form-group">
                                    <label for="expiryMonth">Expiry Month</label>
                                    <select id="expiryMonth">
                                        <option value="">MM</option>
                                        <option value="01">01</option>
                                        <option value="02">02</option>
                                        <option value="03">03</option>
                                        <option value="04">04</option>
                                        <option value="05">05</option>
                                        <option value="06">06</option>
                                        <option value="07">07</option>
                                        <option value="08">08</option>
                                        <option value="09">09</option>
                                        <option value="10">10</option>
                                        <option value="11">11</option>
                                        <option value="12">12</option>
                                    </select>
                                </div>
                                <div class="form-group">
                                    <label for="expiryYear">Expiry Year</label>
                                    <select id="expiryYear">
                                        <option value="">YYYY</option>
                                    </select>
                                </div>
                                <div class="form-group">
                                    <label for="cvv">CVV</label>
                                    <input type="password" id="cvv" maxlength="3" placeholder="***">
                                </div>
                            </div>
                            <button type="submit" class="submit-btn">Proceed to Pay</button>
                        </form>

                        <!-- Net Banking Form -->
                        <form id="netbankingForm" class="payment-form">
                            <h2>Pay using Net Banking</h2>
                            <div class="form-group">
                                <label for="bankSelect">Select Bank</label>
                                <select id="bankSelect">
                                    <option value="">Choose your bank</option>
                                    <option value="sbi">State Bank of India</option>
                                    <option value="hdfc">HDFC Bank</option>
                                    <option value="icici">ICICI Bank</option>
                                    <option value="axis">Axis Bank</option>
                                    <option value="kotak">Kotak Mahindra Bank</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label for="pin">Enter 4-digit PIN</label>
                                <input type="password" id="pin" maxlength="4" placeholder="****">
                            </div>
                            <button type="submit" class="submit-btn">Proceed to Pay</button>
                        </form>
                    </div>
                </div>
           
                <!-- Right Column: Selected Plan Details -->
                <div class="content-column">
                    <div class="payment-card">
                        <h2>Selected Plan Details</h2> <!-- Removed the download button -->
                        <div id="selectedPlanDetails" class="mt-3">
                            <div class="selected-plan-info">
                                <p id="paymentModeDisplay" class="mb-2"><strong>Payment Mode:</strong> Not Selected</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <button id="scrollTopBtn" onclick="scrollToTop()"><i class="bi bi-arrow-up text-color: #1B4D3E"></i></button>

        <!-- Toast Container -->
        <div id="toastContainer" class="toast-container"></div>

        <script src="script.js"></script>

        <script>
document.addEventListener('DOMContentLoaded', function() {
    // Load and display selected plan details
    const selectedPlan = JSON.parse(localStorage.getItem('selectedPlan'));
    const phoneNumber = localStorage.getItem("userPhoneNumber");
    let selectedPaymentMode = "Not Selected"; // Default payment mode

    if (selectedPlan) {
        const planDetailsHtml = `
            <div class="selected-plan-info">
                <h4 class="mb-3">${selectedPlan.name}</h4>
                <p class="mb-2"><strong>Phone Number:</strong> ${phoneNumber}</p>
                <p class="mb-2"><strong>Plan ID:</strong> ${selectedPlan.plan_id}</p>
                <p class="mb-2"><strong>Category:</strong> ${selectedPlan.category}</p>
                <p class="mb-2"><strong>Details:</strong> ${selectedPlan.details}</p>
                <p class="mb-3"><strong>Amount:</strong> ₹${selectedPlan.amount}</p>
                <p id="paymentModeDisplay" class="mb-2"><strong>Payment Mode:</strong> ${selectedPaymentMode}</p>
            </div>
        `;
        document.getElementById('selectedPlanDetails').innerHTML = planDetailsHtml;
    }

    // Initialize year dropdown
    const yearSelect = document.getElementById('expiryYear');
    const currentYear = new Date().getFullYear();
    for (let i = 0; i < 10; i++) {
        const option = document.createElement('option');
        option.value = currentYear + i;
        option.textContent = currentYear + i;
        yearSelect.appendChild(option);
    }

    // Payment mode switching
    const paymentModes = document.querySelectorAll('.payment-mode');
    const paymentForms = document.querySelectorAll('.payment-form');

    paymentModes.forEach(mode => {
        mode.addEventListener('click', () => {
            paymentModes.forEach(m => m.classList.remove('active'));
            mode.classList.add('active');

            selectedPaymentMode = mode.textContent.trim();
            document.getElementById('paymentModeDisplay').innerHTML = `<strong>Payment Mode:</strong> ${selectedPaymentMode}`;

            const formId = mode.dataset.mode + 'Form';
            paymentForms.forEach(form => {
                form.classList.remove('active');
                if (form.id === formId) {
                    form.classList.add('active');
                }
            });
        });
    });

    // Form submissions
    const upiForm = document.getElementById('upiForm');
    const cardForm = document.getElementById('cardForm');
    const netbankingForm = document.getElementById('netbankingForm');

    upiForm.addEventListener('submit', function(e) {
        e.preventDefault();
        const upiId = document.getElementById('upiId').value;
        if (!upiId) {
            showToast('Please enter UPI ID', 'error');
            return;
        }
        showToast('Payment initiated successfully!', 'success');
        window.location.href = "conformation.html";
    });

    cardForm.addEventListener('submit', function(e) {
        e.preventDefault();
        const cardHolder = document.getElementById('cardHolder').value;
        const cardNumber = document.getElementById('cardNumber').value;
        const expiryMonth = document.getElementById('expiryMonth').value;
        const expiryYear = document.getElementById('expiryYear').value;
        const cvv = document.getElementById('cvv').value;

        if (!cardHolder || !cardNumber || !expiryMonth || !expiryYear || !cvv) {
            showToast('Please enter all card details', 'error');
            return;
        }
        showToast('Payment initiated successfully!', 'success');
        window.location.href = "conformation.html";
    });

    netbankingForm.addEventListener('submit', function(e) {
        e.preventDefault();
        const bank = document.getElementById('bankSelect').value;
        const pin = document.getElementById('pin').value;

        if (!bank) {
            showToast('Please select a bank', 'error');
            return;
        }
        if (!pin || pin.length !== 4) {
            showToast('Please enter 4-digit PIN', 'error');
            return;
        }
        showToast('Payment initiated successfully!', 'success');
        window.location.href = "conformation.html";
    });

    // Toast notification function
    function showToast(message, type = 'success') {
        const toast = document.createElement('div');
        toast.className = `toast ${type}`;
        toast.textContent = message;

        const toastContainer = document.getElementById('toastContainer');
        toastContainer.appendChild(toast);

        setTimeout(() => {
            toast.style.animation = 'slideIn 0.3s ease reverse';
            setTimeout(() => {
                toastContainer.removeChild(toast);
            }, 300);
        }, 3000);
    }

    // Card number formatting
    document.getElementById('cardNumber').addEventListener('input', function(e) {
        let value = e.target.value.replace(/\D/g, '');
        e.target.value = value;
    });

    // PIN input validation
    document.getElementById('pin').addEventListener('input', function(e) {
        let value = e.target.value.replace(/\D/g, '');
        e.target.value = value;
    });

    // Scroll to top functionality
    let scrollBtn = document.getElementById("scrollTopBtn");
    window.onscroll = function() {
        if (document.documentElement.scrollTop > 100) {
            scrollBtn.style.display = "block";
        } else {
            scrollBtn.style.display = "none";
        }
    };

    function scrollToTop() {
        window.scrollTo({ top: 0, behavior: "smooth" });
    }
});


// In upiForm event listener
upiForm.addEventListener('submit', function(e) {
    e.preventDefault();
    const upiId = document.getElementById('upiId').value;
    if (!upiId) {
        showToast('Please enter UPI ID', 'error');
        return;
    }
    localStorage.setItem('selectedPaymentMode', 'UPI');  // Add this line
    showToast('Payment initiated successfully!', 'success');
    window.location.href = "conformation.html";
});

// In cardForm event listener
cardForm.addEventListener('submit', function(e) {
    e.preventDefault();
    // ... existing validation ...
    if (!cardHolder || !cardNumber || !expiryMonth || !expiryYear || !cvv) {
        showToast('Please enter all card details', 'error');
        return;
    }
    localStorage.setItem('selectedPaymentMode', 'Credit/Debit Card');  // Add this line
    showToast('Payment initiated successfully!', 'success');
    window.location.href = "conformation.html";
});

// In netbankingForm event listener
netbankingForm.addEventListener('submit', function(e) {
    e.preventDefault();
    // ... existing validation ...
    if (!bank || !pin || pin.length !== 4) {
        showToast('Please enter all details', 'error');
        return;
    }
    localStorage.setItem('selectedPaymentMode', 'Net Banking');  // Add this line
    showToast('Payment initiated successfully!', 'success');
    window.location.href = "conformation.html";
});
        </script>
    </body>
</html>